# 🛒 アプリ名：Attakke?（あったっけ？）

## ⬜ アプリ概要

「Attakke?」は、ご家庭の消耗品を管理するストック管理アプリです。  
保管場所ごとに消耗品を管理することで消耗品ストックの可視化と買い物リストを兼ねることを目的としています。

## ⬜ デモアカウント

動作確認をする場合は以下のデモアカウントをご使用になれます。

メールアドレス：**attakke.demo.app@gmail.com**  
パスワード：**attakke@123**

> [!Warning]  
> デモアカウントは共用です。  
> 個人情報などの登録はお控えください。  
> また、本アプリの動作確認以外の目的には使用しないでください。  

## ⬜ このアプリへの思い・作りたい理由

私は普段から Todo リスト型の買い物メモアプリを使っています。  
買うものを記録して買い物に出かけ、必要なものだけを買うという意味では重宝していますが、それでも出先で「これまだストックあったっけ？」となることが多々あります。

Todo リスト型の買い物メモアプリでは、記録してきたものを購入したかどうかしか確認することができず、記録してこなかったものを確認することはできません。  
また、事前に買うものを確認する作業とリストに記録する作業があり、面倒だなと感じていました。

そこで**保管場所ごとの消耗品の状態を簡単に確認、更新できるアプリ**があれば、買いすぎや買い忘れによる失敗が減らせると考えました。

## ⬜ ユーザー層について

- 単身者（自身で消耗品を管理する必要がある方）
- ご夫妻（お互いに消耗品を管理する方）

## ⬜ アプリの利用イメージ

1. ご家庭の実態に合わせて、保管場所、消耗品ストックの順にリストを作成します。
2. 面倒な入力作業はテンプレート機能を活用して簡単に済ませます。
3. 買い物に出かけた先でリストと照合しながら必要な消耗品ストックを購入します。
4. ストック購入時、ストック消費時に簡単操作でリストを更新します。

## ⬜ 既存アプリの調査

#### 【使っている買い物メモアプリ】

**買い物リスト・メモ - Lisble リスブル**  
 （参考 URL：https://play.google.com/store/apps/details?id=net.lisble.twa&hl=jp ）

こちらのアプリは UI が非常に分かりやすく、チュートリアルがなくても直感的に操作できたため使っています。  
便利なのですが、Todo リスト型の買い物メモアプリですので、ストック管理アプリとしての側面では向いていないと思いました。

#### 【類似しているアプリ】

**LisTa! -家族とシェアする買い物リスト-**  
（参考 URL：https://play.google.com/store/apps/details?id=dev.templat.lista&hl=ja&pli=1）

こちらのアプリは、複数の買い物リストを作ることができるため、  
冷蔵庫、キッチン...と保管場所ごとにリストを作ることでストック管理アプリとして機能します。
ただ、機能が豊富なこともあり、操作に慣れるまで少し時間を要しました。　　
また、ストックの登録が１つずつしか行えないこともあり、初期入力のハードルが高いと感じました。

## ⬜ 本アプリの推しポイント

| 保管場所ごとに管理 | ストックごとに選べる管理型 |
| :---: | :---: |
| <img src="https://github.com/user-attachments/assets/2cc967ec-ff20-4c23-9d15-e7c7b91b6d70" width="350"/> | <img src="https://github.com/user-attachments/assets/f297bc31-dc69-4aa0-a52c-89183ea150d1" width="350"/> |
| <p align="left">保管場所ごとにストック状況を一覧表示できます。<br><strong>ストックのフィルタリング機能</strong>を活用することで<br>買い物リストとしての機能も提供します。</p> | <p align="left">アイコンで有無を管理できる<strong>チェックボックス型</strong>、<br>残りが何個あるかで管理できる<strong>残数型</strong>、<br>ストックにあった管理型を選択して管理できます。</p> |

<br>

| まとめて入力 / テンプレート機能 | ストック単位の履歴確認機能 |
| :---: | :---: |
| <img src="https://github.com/user-attachments/assets/61e1c4ce-e6a5-49ec-a82b-37862204aa46" width="350"/> | <img src="https://github.com/user-attachments/assets/d682c11e-4386-4939-9d3f-4f58bac6ddca" width="350"/> |
| <p align="left">最大10個までまとめてストックを作成できます。<br>また、**プリセットとして登録済のテンプレートを使用することもできます。**<br>テンプレートは自由に内容を変更することもできるため、初期登録時におすすめの機能です。</p> | <p align="left">一覧画面で最後に更新した日を確認できます。<br>また、**ストックごとに履歴を確認**することができます。<br>うっかり前回購入した記録をつけ忘れてしまっても、履歴の購入頻度から買うべきかどうかの判断ができます。</p> |

## ⬜ ユーザーの獲得について

- SNS での宣伝
- 近親者に使ってもらい機会があれば薦めてもらう

## ⬜ 機能候補

### MVP リリース時

- [x] Google ログイン機能
- [x] 保管場所、ストックの個別 CRUD 機能
- [x] ストック状態によるフィルタリング機能（すべて、あり、なし）
- [x] ストックの履歴が確認できる機能
- [x] テンプレート入力機能
- [x] モーダル上で入力し画面遷移を挟まずに反映される SPA のような操作性

### 本リリース時までに実装予定

- [x] パートナー認証機能
- [ ] まとめて入力機能
- [ ] ストック検索機能（stimulus-autocomplete利用）
- [ ] 使い方ガイド
- [ ] プライバシーポリシー、利用規約
- [ ] PWA 対応

## ⬜ 機能の実装方針

### Google ログイン機能
メールアドレスの登録やパスワード設定など煩わしい工程を省きたかったため実装しました。  
また、数ある認証方法の中で Google 認証を選定した理由は以下２つになります。

1. 近親者へ聞き込みをした際に Google アカウントを所有していない者がいなかったこと。
2. NTT ドコモ モバイル社会研究所の調査によると Google アカウントの保有率は約 78%程度[^1]で最多であったこと。

### テンプレート機能
類似アプリでは、一度入力した情報を使いまわすためのテンプレート機能がありました。  
本アプリでは、初期入力のハードルを下げるために、プリセットとしてのテンプレートを用意しました。  
この機能の違いが類似アプリとの差別化ポイントになっています。

### SPA のような操作性  
常時、保管場所ごとに消耗品ストックを管理しておき、出かけた先で買うものに困らないようにすることが目的のアプリです。  

また、ストックの作成や更新、削除といった部分更新で済む操作が多いため、画面遷移で全体を描画しなおすのではなく、Turbo や Stimulus による非同期更新を積極的に採用しています。

### パートナー認証機能
ご夫妻で消耗品を管理できるようにするため、パートナー認証機能を実装しました。  
本アプリに登録済みのユーザー間で申請を送り、承諾されればお互いの保管場所、ストック状況を共有できるようになります。  

申請メールからアプリにログインしなくても申請の承諾や拒否が行えるように、セキュアなトークンによる有効期限付きの認証機能を実装しています。

### PWA 対応
出先でストック状況を確認することを想定しているため、操作はスマートフォンで行うことをメインに考えています。  
ブラウザからアプリにアクセスするのではなく、ネイティブアプリのようにホーム画面のアイコンからアクセスできるように PWA に関する設定を行います。

## ⬜ 使用技術
| カテゴリ | 使用技術 |
| :--- | :--- |
| フロントエンド | TailwindCSS / Hotwire |
| バックエンド | Ruby 3.3.6 / Rails 7.2.2.1 |
| データベース | PostgreSQL (Neon) |
| 開発環境 | Docker |
| インフラ | Render |
| 認証 | Devise / Omniauth (Google OAuth 2.0)  |

## ⬜ 画面遷移図
[Figmaで作成](https://www.figma.com/design/mvEe6hSXwwJiDg1PwbAS9v/Attakke-_%E7%94%BB%E9%9D%A2%E9%81%B7%E7%A7%BB%E5%9B%B3?node-id=4-30&t=SiPF4yKIkrv30xmM-1)
<iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="750" height="450" src="https://embed.figma.com/design/mvEe6hSXwwJiDg1PwbAS9v/Attakke-_%E7%94%BB%E9%9D%A2%E9%81%B7%E7%A7%BB%E5%9B%B3?node-id=0-1&embed-host=share" allowfullscreen></iframe>

## ⬜ ER図
<img src="https://github.com/user-attachments/assets/1bf14231-998d-4542-a4f4-77532ba4fe75" width="750"/>

[^1]: 10 代女性の 3 人に 1 人は Twitter、Instagram を３アカウント以上所有（2021 年 5 月 13 日）, https://www.moba-ken.jp/project/lifestyle/20210513.html, 1-1.「Google」「LINE」「Yahoo! Japan」「楽天」「Amazon」は過半数がアカウント所有, 2025-07-16 参照

@import url("https://fonts.googleapis.com/css2?family=Yusei+Magic&display=swap");
@import "tailwindcss";

@theme {
  /* ボディに使う文字色 */
  --color-f-head: #2f2a1f; /* 見出しなどで上書き */
  --color-f-body: #4f4737; /* ボディ全体に適用 */

  /* ボタン等の指し色 */
  --color-dull-green: #6b8f71;

  /* ボタン等の指し色 */
  --color-dull-red: #c8553d;

  /* 「買う」にフィルタリングされるストックの背景色 */
  /* dull-redを500としたときの200相当色 */
  --color-dull-pink: #f5bdb3;

  /* メイン背景色 */
  --color-dull-beige: #d7c9aa;

  /* 「買わない」にフィルタリングされるストックの背景色 */
  --color-dull-sand: #f8f5f2;

  /* GoogleFontsの導入 */
  --font-yusei: "Yusei Magic", sans-serif;
}

/* 操作無効であることを示すコントラストカラー */
@layer utilities {
  .disabled-text-color {
    @apply text-f-body/50;
  }

  .disabled-bg-color {
    @apply bg-f-body/50;
  }
}

/* ログイン後のスライドメニュー用コンポーネント */
@layer components {
  .drawer-container {
    @apply fixed inset-0 z-40 flex justify-end opacity-0 pointer-events-none transition-opacity duration-300 ease-out;
  }

  .drawer-container--open {
    @apply pointer-events-auto;
  }

  .drawer-container--visible {
    @apply opacity-100;
  }

  .drawer-overlay {
    @apply h-full w-full flex-1 border-0 cursor-pointer;
    background-color: color-mix(in srgb, var(--color-f-head) 30%, transparent);
  }

  .drawer-panel {
    @apply relative z-10 flex h-full w-full max-w-3xs md:max-w-xs flex-col gap-4 overflow-y-auto bg-white px-6 py-8 shadow-xl transition-transform duration-300 ease-out translate-x-full;
  }

  .drawer-container--visible .drawer-panel {
    @apply translate-x-0;
  }

  .drawer-title {
    @apply font-semibold tracking-wide text-f-head;
  }

  .drawer-link {
    @apply w-full flex items-center gap-3 rounded-lg py-3 font-medium text-f-head transition-colors duration-200 ease-out hover:bg-dull-beige;
  }

  .drawer-link svg {
    @apply size-6 text-f-head;
  }

  .drawer-link--logout {
    @apply text-dull-green hover:text-dull-red;
  }

  .drawer-link--logout svg {
    @apply text-dull-green transition-colors duration-200 ease-out;
  }

  .drawer-link--logout:hover svg {
    @apply text-dull-red;
  }
}

/* モーダル用のコンポーネント */
@layer compornents {
  .modal-header {
    @apply bg-dull-green text-white text-xl font-bold px-4 pb-4 mb-4 -mx-4;
  }

  .modal-label {
    @apply text-f-head font-bold;
  }

  .modal-input {
    @apply border rounded px-2 py-1 w-full;
  }

  .modal-icon {
    @apply size-6 text-f-head;
  }

  .modal-submit {
    @apply bg-dull-red text-f-head rounded px-4 py-2 mb-4 hover:brightness-70 shadow-lg;
  }
}

/* ローディングアニメーション用コンポーネント */
@layer components {
  #loading-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #loading-overlay.hidden {
    display: none;
  }
}

/* アニメーション系のコンポーネント */
@layer components {
  /* フラッシュメッセージのアニメーション */
  .animate-fadeinout {
    animation: fadeinout 3s ease-in-out 1;
  }

  /* ローディングスピナーのアニメーション */
  .animate-spin {
    animation: spin 0.8s linear infinite;
  }
}

/* フラッシュメッセージアニメーション定義 */
@keyframes fadeinout {
  0% {
    transform: translateY(0);
  }
  15% {
    transform: translateY(48px);
  }
  85% {
    transform: translateY(48px);
  }
  100% {
    transform: translateY(0);
  }
}

/* ローディングアニメーション定義 */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* 「field_with_errors」にCSSをあてる */
.field_with_errors {
  display: contents;
}

/* Turboのプログレスバーを非表示にする */
.turbo-progress-bar {
  display: none;
}
